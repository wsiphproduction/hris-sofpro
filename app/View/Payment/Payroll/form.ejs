<div class="widget custom-modal" v-if="modal">
	<div class="modal-container">
		<div class="heading">
			<h4 v-text="modalText"></h4>
			<button class="close-modal" v-on:click="closeModal"><i class="mdi mdi-close"></i></button>
		</div>
		<form action="<%= baseUrl +'/payment/payroll' %>" method="post" enctype="multipart/form-data" @submit.prevent="onSubmit">

			<div class="body">

				<div class="form-row">
					<div class="form-group col-md-12">
						<div class="alert alert-primary" role="alert">
							The file must be in <strong>CSV format and comma separated values</strong>.<br> 
							CSV Format: <strong><a href="<%= baseUrl %>/uploads/import/PayrollFormat.csv">click here</a></strong>.<br>
						</div>
					</div>
					<div class="form-group col-md-6">
						<label for="period">Payroll Period</label>
						<input type="text" id="period" class="form-control" name="period" v-bind:placeholder="moment().format('MMMM') +' 1-15, '+moment().format('YYYY')">
						<div class="form-text form-error" v-if="!! errors.period" v-text="errors.period"></div>
					</div>
					<div class="form-group col-md-6">
						<label for="attachment">Attachment</label>
						<input type="file" id="attachment" class="form-control-file" name="file" accept=".csv">
						<div class="form-text form-error" v-if="!! errors.file" v-text="errors.file"></div>
					</div>
				</div>
			</div>
			<div class="footer">
				<button type="button" class="btn btn-primary" v-if="loading"><i class="mdi mdi-loading mdi-spin"></i> Processing...</button>
				<button type="submit" class="btn btn-primary" v-else="loading">Submit</button>
				<button type="button" class="btn btn-light" v-on:click="closeModal">Cancel</button>
			</div>
		</form>
	</div>
</div>